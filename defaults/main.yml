---
# @var reth_user:description: Username for the reth node.
reth_user: "reth"

# @var reth_group:description: Group for running the reth node.
reth_group: "reth"

# @var reth_general_owner:description: General owner for reth system files.
reth_general_owner: root

# @var reth_dir_base:description: Base directory for reth installation.
reth_dir_base: "/opt/reth"

# @var reth_dir_data:description: Directory for reth data storage.
reth_dir_data: "{{ reth_dir_base }}/data"

# @var reth_dir_config:description: Directory for reth configuration files.
reth_dir_config: "{{ reth_dir_base }}/config"

# @var reth_dir_log:description: Directory for reth log files.
reth_dir_log: "{{ reth_dir_base }}/logs"

# @var reth_binary_download_url:description: URL to download the reth binary.
reth_binary_download_url: "https://github.com/paradigmxyz/reth/releases/download/v1.3.12/reth-v1.3.12-x86_64-unknown-linux-gnu.tar.gz"

# @var reth_binary_path:description: Path to install the reth binary.
reth_dir_binary: "/usr/local/bin"

# @var reth_binary_path:description: Path the reth binary.
reth_binary_path: "{{ reth_dir_binary }}/reth"

# @var reth_dir_systemd:description: Systemd service directory for reth.
reth_dir_systemd: "/lib/systemd/system"

# @var reth_systemd_service_name:description: Systemd service name for reth.
reth_systemd_service_name: "reth"

# @var reth_jwt_secret_path:description: jwt token path for reth.
reth_jwt_secret_path: "{{ reth_dir_config }}/jwt.hex"

# @var reth_reinstall:description: Force reinstall reth binary.
reth_reinstall: false

# Ethereum network parameters
# @var reth_chain:description: >
# The network of the Ethereum chain.
reth_chain: sepolia

# @var reth_config_file:description: >
# The path to the TOML configuration file to use.
reth_config_file: "{{ reth_dir_config }}/config.toml"


# @var reth_instance:description: >
# Add a new instance of a node.
# Configures the ports of the node to avoid conflicts with the defaults.
# This is useful for running multiple nodes on the same machine.
# Max number of instances is 200.
# Changes to the following port numbers:
# - `DISCOVERY_PORT`: default + `instance` - 1
# - `AUTH_PORT`: default + `instance` * 100 - 100
# - `HTTP_RPC_PORT`: default - `instance` + 1
# - `WS_RPC_PORT`: default + `instance` * 2 - 2
# - `IPC_PATH`: default + `-instance`
reth_instance: 1

# @var reth_with_unused_ports:description: >
# Sets all ports to unused, allowing the OS to choose random unused ports when sockets are bound.
# Mutually exclusive with `reth_instance`.
reth_with_unused_ports: false

# @var reth_metrics_listen_addr:description: >
# The metrics will be served at the given addr.
reth_metrics_listen_addr: 127.0.0.1

# @var reth_metrics_listen_port:description: >
# The metrics will be served at the given port.
reth_metrics_listen_port: 9000


# @var reth_datadir_static_files:description: >
# The absolute path to store static files in.
reth_dir_data_static_files: "{{ reth_dir_data }}/static"

# @var reth_disable_discovery:description: >
# Disable the discovery service.
reth_disable_discovery: false

# @var reth_disable_dns_discovery:description: >
# Disable the DNS discovery.
reth_disable_dns_discovery: false

# @var reth_disable_discv4_discovery:description: >
# Disable Discv4 discovery.
reth_disable_discv4_discovery: false

# @var reth_enable_discv5_discovery:description: >
# Enable Discv5 discovery.
reth_enable_discv5_discovery: false

# @var reth_disable_nat:description: >
# Disable Nat discovery.
reth_disable_nat: false

# @var reth_discovery_addr:description: >
# The UDP address to use for devp2p peer discovery version 4.
reth_discovery_addr: "0.0.0.0"

# @var reth_discovery_port:description: >
# The UDP port to use for devp2p peer discovery version 4.
reth_discovery_port: 30303

# @var reth_discovery_v5_addr:description: >
# The UDP IPv4 address to use for devp2p peer discovery version 5.
# Overwritten by `RLPx` address, if it's also IPv4.
reth_discovery_v5_addr: "{{ ansible_default_ipv4 }}"

# @var reth_discovery_v5_addr_ipv6:description: >
# The UDP IPv6 address to use for devp2p peer discovery version 5.
# Overwritten by `RLPx` address, if it's also IPv6.
reth_discovery_v5_addr_ipv6: "{{ ansible_default_ipv6 }}"

# @var reth_discovery_v5_port:description: >
# The UDP IPv4 port to use for devp2p peer discovery version 5.
# Not used unless `--addr` is IPv4, or `--discovery.v5.addr` is set.
reth_discovery_v5_port: 9200

# @var reth_discovery_v5_port_ipv6:description: >
# The UDP IPv6 port to use for devp2p peer discovery version 5.
# Not used unless `--addr` is IPv6, or `--discovery.addr.ipv6` is set.
reth_discovery_v5_port_ipv6: 9200

# @var reth_discovery_v5_lookup_interval:description: >
# The interval in seconds at which to carry out periodic lookup queries, for the whole run of the program.
reth_discovery_v5_lookup_interval: 20

# @var reth_discovery_v5_bootstrap_lookup_interval:description: >
# The interval in seconds at which to carry out boost lookup queries, for a fixed number of times, at bootstrap.
reth_discovery_v5_bootstrap_lookup_interval: 5

# @var reth_discovery_v5_bootstrap_lookup_countdown:description: >
# The number of times to carry out boost lookup queries at bootstrap.
reth_discovery_v5_bootstrap_lookup_countdown: 200

# @var reth_trusted_peers:description: >
# Comma separated enode URLs of trusted peers for P2P connections.
# Example: "enode://abcd@192.168.0.1:30303,enode://efgh@192.168.0.2:30303"
reth_trusted_peers: ""

# @var reth_trusted_only:description: >
# Connect to or accept from trusted peers only.
reth_trusted_only: false

# @var reth_bootnodes:description: >
# Comma separated enode URLs for P2P discovery bootstrap.
# Will fall back to a network-specific default if not specified.
reth_bootnodes: ""

# @var reth_dns_retries:description: >
# Amount of DNS resolution requests retries to perform when peering.
reth_dns_retries: 0

# @var reth_peers_file:description: >
# The path to the known peers file. Connected peers are dumped to this file on nodes shutdown, and read on startup.
# Cannot be used with `reth_no_persist_peers`.
reth_peers_file: <FILE_PATH> # e.g., /opt/reth/peers.json

# @var reth_identity:description: >
# Custom node identity.
reth_identity: "reth/<VERSION>-<SHA>/<ARCH>"

# @var reth_p2p_secret_key:description: >
# Secret key to use for this node.
# This will also deterministically set the peer ID.
# If not specified, it will be set in the data dir for the chain being used.
reth_p2p_secret_key: "{{ reth_dir_config }}/reth_p2p_secret"

# @var reth_no_persist_peers:description: >
# Do not persist peers.
reth_no_persist_peers: false

# @var reth_nat:description: >
# NAT resolution method (any|none|upnp|publicip|extip:<IP>).
reth_nat: any

# @var reth_addr:description: >
# Network listening address.
reth_addr: "0.0.0.0"

# @var reth_port:description: >
# Network listening port.
reth_port: 30303

# @var reth_max_outbound_peers:description: >
# Maximum number of outbound requests.
reth_max_outbound_peers: 100

# @var reth_max_inbound_peers:description: >
# Maximum number of inbound requests.
reth_max_inbound_peers: 30

# @var reth_max_tx_reqs:description: >
# Max concurrent `GetPooledTransactions` requests.
reth_max_tx_reqs: 130

# @var reth_max_tx_reqs_peer:description: >
# Max concurrent `GetPooledTransactions` requests per peer.
reth_max_tx_reqs_peer: 1

# @var reth_max_seen_tx_history:description: >
# Max number of seen transactions to remember per peer. Default is 320 transaction hashes.
reth_max_seen_tx_history: 320

# @var reth_max_pending_imports:description: >
# Max number of transactions to import concurrently.
reth_max_pending_imports: 4096

# @var reth_pooled_tx_response_soft_limit:description: >
# Experimental, for usage in research. Sets the max accumulated byte size of transactions to pack in one response. Spec'd at 2MiB.
reth_pooled_tx_response_soft_limit: 2097152 # 2MiB

# @var reth_pooled_tx_pack_soft_limit:description: >
# Experimental, for usage in research. Sets the max accumulated byte size of transactions to request in one request.
# Since `RLPx` protocol version 68, the byte size of a transaction is shared as metadata in a transaction announcement.
# This allows a node to request a specific size response.
# By default, nodes request only 128 KiB worth of transactions, but should a peer request more, up to 2 MiB, a node will answer with more than 128 KiB.
# Default is 128 KiB.
reth_pooled_tx_pack_soft_limit: 131072 # 128KiB

# @var reth_max_tx_pending_fetch:description: >
# Max capacity of cache of hashes for transactions pending fetch.
reth_max_tx_pending_fetch: 25600

# @var reth_net_if_experimental:description: >
# Name of network interface used to communicate with peers.
# If flag is set, but no value is passed, the default interface for docker `eth0` is tried.
reth_net_if_experimental: <IF_NAME> # e.g., eth0 or omit for default behavior

# @var reth_tx_propagation_policy:description: >
# Transaction Propagation Policy. The policy determines which peers transactions are gossiped to.
reth_tx_propagation_policy: All


# @var reth_http_addr:description: >
# Http server address to listen on.
reth_http_addr: "127.0.0.1"

# @var reth_http_port:description: >
# Http server port to listen on.
reth_http_port: 8545

# @var reth_http_api:description: >
# Rpc Modules to be configured for the HTTP server.
# Possible values: admin, debug, eth, net, trace, txpool, web3, rpc, reth, ots, flashbots, miner, mev.
# Comma-separated string e.g., "eth,net,web3".
reth_http_api: "eth,net,web3,admin"

# @var reth_http_corsdomain:description: >
# Http Corsdomain to allow request from.
reth_http_corsdomain: "*"

# @var reth_ws_addr:description: >
# Ws server address to listen on.
reth_ws_addr: "127.0.0.1"

# @var reth_ws_port:description: >
# Ws server port to listen on.
reth_ws_port: 8546

# @var reth_ws_origins:description: >
# Origins from which to accept `WebSocket` requests.
# Comma-separated string e.g., "http://localhost:3000,https://example.com".
reth_ws_origins: "*"

# @var reth_ws_api:description: >
# Rpc Modules to be configured for the WS server.
# Possible values: admin, debug, eth, net, trace, txpool, web3, rpc, reth, ots, flashbots, miner, mev.
# Comma-separated string e.g., "eth,net,web3".
reth_ws_api: ""

# @var reth_ipcdisable:description: >
# Disable the IPC-RPC server.
reth_ipcdisable: false

# @var reth_ipcpath:description: >
# Filename for IPC socket/pipe within the datadir.
reth_ipcpath: "{{ reth_dir_data }}/ipc" # Reth replaces <CACHE_DIR> automatically

# @var reth_authrpc_addr:description: >
# Auth server address to listen on.
reth_authrpc_addr: "127.0.0.1"

# @var reth_authrpc_port:description: >
# Auth server port to listen on.
reth_authrpc_port: 8551

# @var reth_authrpc_jwtsecret:description: >
# Path to a JWT secret to use for the authenticated engine-API RPC server.
reth_authrpc_jwtsecret: "{{ reth_dir_config }}/jwt.hex"

# @var reth_auth_ipc:description: >
# Enable auth engine API over IPC.
reth_auth_ipc: false

# @var reth_auth_ipc_path:description: >
# Filename for auth IPC socket/pipe within the datadir.
reth_auth_ipc_path: "<CACHE_DIR>_engine_api.ipc" # Reth replaces <CACHE_DIR> automatically

# @var reth_rpc_jwtsecret:description: >
# Hex encoded JWT secret to authenticate the regular RPC server(s), see `reth_http_api` and `reth_ws_api`.
# This is __not__ used for the authenticated engine-API RPC server, see `reth_authrpc_jwtsecret`.
reth_rpc_jwtsecret: ""

# @var reth_rpc_max_request_size:description: >
# Set the maximum RPC request payload size for both HTTP and WS in megabytes.
reth_rpc_max_request_size: 15

# @var reth_rpc_max_response_size:description: >
# Set the maximum RPC response payload size for both HTTP and WS in megabytes.
reth_rpc_max_response_size: 160

# @var reth_rpc_max_subscriptions_per_connection:description: >
# Set the maximum concurrent subscriptions per connection.
reth_rpc_max_subscriptions_per_connection: 1024

# @var reth_rpc_max_connections:description: >
# Maximum number of RPC server connections.
reth_rpc_max_connections: 500

# @var reth_rpc_max_tracing_requests:description: >
# Maximum number of concurrent tracing requests.
# By default this chooses a sensible value based on the number of available cores.
# Tracing requests are generally CPU bound. Choosing a value that is higher than the available CPU cores can have a negative impact on the performance.
reth_rpc_max_tracing_requests: "{{ ansible_processor_vcpus }}"

# @var reth_rpc_max_trace_filter_blocks:description: >
# Maximum number of blocks for `trace_filter` requests.
reth_rpc_max_trace_filter_blocks: 100

# @var reth_rpc_max_blocks_per_filter:description: >
# Maximum number of blocks that could be scanned per filter request. (0 = entire chain).
reth_rpc_max_blocks_per_filter: 100000

# @var reth_rpc_max_logs_per_response:description: >
# Maximum number of logs that can be returned in a single response. (0 = no limit).
reth_rpc_max_logs_per_response: 20000

# @var reth_rpc_gascap:description: >
# Maximum gas limit for `eth_call` and call tracing RPC methods.
reth_rpc_gascap: 50000000

# @var reth_rpc_txfeecap:description: >
# Maximum eth transaction fee that can be sent via the RPC APIs (0 = no cap).
reth_rpc_txfeecap: 1.0

# @var reth_rpc_max_simulate_blocks:description: >
# Maximum number of blocks for `eth_simulateV1` call.
reth_rpc_max_simulate_blocks: 256

# @var reth_rpc_eth_proof_window:description: >
# The maximum proof window for historical proof generation.
# This value allows for generating historical proofs up to configured number of blocks from current tip (up to `tip - window`).
reth_rpc_eth_proof_window: 0

# @var reth_rpc_proof_permits:description: >
# Maximum number of concurrent getproof requests.
reth_rpc_proof_permits: 25

# @var reth_builder_disallow:description: >
# Path to file containing disallowed addresses, json-encoded list of strings.
# Block validation API will reject blocks containing transactions from these addresses.
reth_builder_disallow: <PATH_TO_DISALLOW_FILE>

# @var reth_rpc_cache_max_blocks:description: >
# Max number of blocks in RPC cache.
reth_rpc_cache_max_blocks: 5000

# @var reth_rpc_cache_max_receipts:description: >
# Max number receipts in RPC cache.
reth_rpc_cache_max_receipts: 2000

# @var reth_rpc_cache_max_headers:description: >
# Max number of headers in RPC cache.
reth_rpc_cache_max_headers: 1000

# @var reth_rpc_cache_max_concurrent_db_requests:description: >
# Max number of concurrent database requests for RPC cache.
reth_rpc_cache_max_concurrent_db_requests: 512

# @var reth_gpo_blocks:description: >
# Number of recent blocks to check for gas price.
reth_gpo_blocks: 20

# @var reth_gpo_ignoreprice:description: >
# Gas Price below which gpo will ignore transactions.
reth_gpo_ignoreprice: 2

# @var reth_gpo_maxprice:description: >
# Maximum transaction priority fee(or gasprice before London Fork) to be recommended by gpo.
reth_gpo_maxprice: 500000000000

# @var reth_gpo_percentile:description: >
# The percentile of gas prices to use for the estimate.
reth_gpo_percentile: 60

# @var reth_txpool_pending_max_count:description: >
# Max number of transaction in the pending sub-pool.
reth_txpool_pending_max_count: 10000

# @var reth_txpool_pending_max_size:description: >
# Max size of the pending sub-pool in megabytes.
reth_txpool_pending_max_size: 20

# @var reth_txpool_basefee_max_count:description: >
# Max number of transaction in the basefee sub-pool.
reth_txpool_basefee_max_count: 10000

# @var reth_txpool_basefee_max_size:description: >
# Max size of the basefee sub-pool in megabytes.
reth_txpool_basefee_max_size: 20

# @var reth_txpool_queued_max_count:description: >
# Max number of transaction in the queued sub-pool.
reth_txpool_queued_max_count: 10000

# @var reth_txpool_queued_max_size:description: >
# Max size of the queued sub-pool in megabytes.
reth_txpool_queued_max_size: 20

# @var reth_txpool_blobpool_max_count:description: >
# Max number of transaction in the blobpool.
reth_txpool_blobpool_max_count: 10000

# @var reth_txpool_blobpool_max_size:description: >
# Max size of the blobpool in megabytes.
reth_txpool_blobpool_max_size: 20

# @var reth_txpool_blob_cache_size:description: >
# Max number of entries for the in memory cache of the blob store.
reth_txpool_blob_cache_size: <COUNT> # No default specified, needs a value

# @var reth_txpool_max_account_slots:description: >
# Max number of executable transaction slots guaranteed per account.
reth_txpool_max_account_slots: 16

# @var reth_txpool_pricebump:description: >
# Price bump (in %) for the transaction pool underpriced check.
reth_txpool_pricebump: 10

# @var reth_txpool_minimal_protocol_fee:description: >
# Minimum base fee required by the protocol.
reth_txpool_minimal_protocol_fee: 7

# @var reth_txpool_gas_limit:description: >
# The default enforced gas limit for transactions entering the pool.
reth_txpool_gas_limit: 30000000

# @var reth_blobpool_pricebump:description: >
# Price bump percentage to replace an already existing blob transaction.
reth_blobpool_pricebump: 100

# @var reth_txpool_max_tx_input_bytes:description: >
# Max size in bytes of a single transaction allowed to enter the pool.
reth_txpool_max_tx_input_bytes: 131072

# @var reth_txpool_max_cached_entries:description: >
# The maximum number of blobs to keep in the in memory blob cache.
reth_txpool_max_cached_entries: 100

# @var reth_txpool_nolocals:description: >
# Flag to disable local transaction exemptions.
reth_txpool_nolocals: false

# @var reth_txpool_locals:description: >
# Flag to allow certain addresses as local. Comma-separated list of addresses.
reth_txpool_locals: "" # e.g., "0xaddress1,0xaddress2"

# @var reth_txpool_no_local_transactions_propagation:description: >
# Flag to toggle local transaction propagation.
reth_txpool_no_local_transactions_propagation: false

# @var reth_txpool_additional_validation_tasks:description: >
# Number of additional transaction validation tasks to spawn.
reth_txpool_additional_validation_tasks: 1

# @var reth_txpool_max_pending_txns:description: >
# Maximum number of pending transactions from the network to buffer.
reth_txpool_max_pending_txns: 2048

# @var reth_txpool_max_new_txns:description: >
# Maximum number of new transactions to buffer.
reth_txpool_max_new_txns: 1024

# @var reth_txpool_max_new_pending_txs_notifications:description: >
# How many new pending transactions to buffer and send to in progress pending transaction iterators.
reth_txpool_max_new_pending_txs_notifications: 200

# @var reth_txpool_lifetime:description: >
# Maximum amount of time non-executable transaction are queued (e.g., "10800s", "3h").
reth_txpool_lifetime: "10800"

# @var reth_txpool_transactions_backup:description: >
# Path to store the local transaction backup at, to survive node restarts.
reth_txpool_transactions_backup: "{{ reth_dir_data }}"

# @var reth_txpool_disable_transactions_backup:description: >
# Disables transaction backup to disk on node shutdown.
reth_txpool_disable_transactions_backup: false

# @var reth_builder_extradata:description: >
# Block extra data set by the payload builder.
reth_builder_extradata: "reth/<VERSION>/<OS>" # Default will be set by reth

# @var reth_builder_gaslimit:description: >
# Target gas limit for built blocks.
reth_builder_gaslimit: 36000000

# @var reth_builder_interval:description: >
# The interval at which the job should build a new payload after the last.
# Interval is specified in seconds or in milliseconds if the value ends with `ms`: e.g., `50ms` or `1`.
reth_builder_interval: "1" # 1 second

# @var reth_builder_deadline:description: >
# The deadline in seconds for when the payload builder job should resolve.
reth_builder_deadline: 12

# @var reth_builder_max_tasks:description: >
# Maximum number of tasks to spawn for building a payload.
reth_builder_max_tasks: 3

# @var reth_debug_terminate:description: >
# Flag indicating whether the node should be terminated after the pipeline sync.
reth_debug_terminate: false

# @var reth_debug_tip:description: >
# Set the chain tip manually for testing purposes. NOTE: This is a temporary flag.
reth_debug_tip: ""

# @var reth_debug_max_block:description: >
# Runs the sync only up to the specified block.
reth_debug_max_block: ""

# @var reth_debug_etherscan:description: >
# Runs a fake consensus client that advances the chain using recent block hashes on Etherscan.
# If specified without a URL, uses default Etherscan API. Requires ETHERSCAN_API_KEY env var.
# Can take an optional ETHERSCAN_API_URL.
reth_debug_etherscan: <OPTIONAL_ETHERSCAN_API_URL_OR_true_TO_ENABLE> # Set to true or the URL

# @var reth_debug_rpc_consensus_ws:description: >
# Runs a fake consensus client using blocks fetched from an RPC WebSocket endpoint.
reth_debug_rpc_consensus_ws: <RPC_WEBSOCKET_URL>

# @var reth_debug_skip_fcu:description: >
# If provided, the engine will skip `n` consecutive FCUs.
reth_debug_skip_fcu: <NUMBER_OF_FCUS_TO_SKIP>

# @var reth_debug_skip_new_payload:description: >
# If provided, the engine will skip `n` consecutive new payloads.
reth_debug_skip_new_payload: <NUMBER_OF_PAYLOADS_TO_SKIP>

# @var reth_debug_reorg_frequency:description: >
# If provided, the chain will be reorged at specified frequency.
reth_debug_reorg_frequency: <FREQUENCY>

# @var reth_debug_reorg_depth:description: >
# The reorg depth for chain reorgs.
reth_debug_reorg_depth: <DEPTH>

# @var reth_debug_engine_api_store:description: >
# The path to store engine API messages at.
# If specified, all intercepted engine API messages will be written to specified location.
reth_debug_engine_api_store: "{{ reth_dir_data }}"

# @var reth_debug_invalid_block_hook:description: >
# Determines which type of invalid block hook to install. Example: `witness,prestate`.
# Possible values: witness, pre-state, opcode. Comma-separated.
reth_debug_invalid_block_hook: witness

# @var reth_debug_healthy_node_rpc_url:description: >
# The RPC URL of a healthy node to use for comparing invalid block hook results against.
reth_debug_healthy_node_rpc_url: ""

# @var reth_db_log_level:description: >
# Database logging level. Levels higher than "notice" require a debug build.
# Possible values: fatal, error, warn, notice, verbose, debug, trace, extra.
reth_db_log_level: "notice"

# @var reth_db_exclusive:description: >
# Open environment in exclusive/monopolistic mode. Makes it possible to open a database on an NFS volume.
# Possible values: true, false.
reth_db_exclusive: "false"

# @var reth_db_max_size:description: >
# Maximum database size (e.g., 4TB, 8MB).
reth_db_max_size: "2TB"

# @var reth_db_growth_step:description: >
# Database growth step (e.g., 4GB, 4KB).
reth_db_growth_step: "256MB"

# @var reth_db_read_transaction_timeout:description: >
# Read transaction timeout in seconds, 0 means no timeout.
reth_db_read_transaction_timeout: 10

# @var reth_dev:description: >
# Start the node in dev mode.
# This mode uses a local proof-of-authority consensus engine with either fixed block times or automatically mined blocks.
# Disables network discovery and enables local http server.
# Prefunds 20 accounts derived by mnemonic "test test test test test test test test test test test junk" with 10 000 ETH each.
reth_dev: false

# @var reth_dev_block_max_transactions:description: >
# How many transactions to mine per block in dev mode.
reth_dev_block_max_transactions: <COUNT>

# @var reth_dev_block_time:description: >
# Interval between blocks in dev mode. Parses strings using humantime::parse_duration (e.g., "12s").
reth_dev_block_time: <DURATION> # e.g., "12s"

# @var reth_full:description: >
# Run full node. Only the most recent MINIMUM_PRUNING_DISTANCE block states are stored.
reth_full: false # This often means archive node is false, or specific pruning settings are applied. Default behavior is full unless archive.

# @var reth_block_interval:description: >
# Minimum pruning interval measured in blocks.
reth_block_interval: <BLOCK_COUNT>

# @var reth_prune_senderrecovery_full:description: >
# Prunes all sender recovery data.
reth_prune_senderrecovery_full: false

# @var reth_prune_senderrecovery_distance:description: >
# Prune sender recovery data before the `head-N` block number. In other words, keep last N + 1 blocks.
reth_prune_senderrecovery_distance: <BLOCKS>

# @var reth_prune_senderrecovery_before:description: >
# Prune sender recovery data before the specified block number. The specified block number is not pruned.
reth_prune_senderrecovery_before: <BLOCK_NUMBER>

# @var reth_prune_transactionlookup_full:description: >
# Prunes all transaction lookup data.
reth_prune_transactionlookup_full: false

# @var reth_prune_transactionlookup_distance:description: >
# Prune transaction lookup data before the `head-N` block number. In other words, keep last N + 1 blocks.
reth_prune_transactionlookup_distance: <BLOCKS>

# @var reth_prune_transactionlookup_before:description: >
# Prune transaction lookup data before the specified block number. The specified block number is not pruned.
reth_prune_transactionlookup_before: <BLOCK_NUMBER>

# @var reth_prune_receipts_full:description: >
# Prunes all receipt data.
reth_prune_receipts_full: false

# @var reth_prune_receipts_distance:description: >
# Prune receipts before the `head-N` block number. In other words, keep last N + 1 blocks.
reth_prune_receipts_distance: <BLOCKS>

# @var reth_prune_receipts_before:description: >
# Prune receipts before the specified block number. The specified block number is not pruned.
reth_prune_receipts_before: <BLOCK_NUMBER>

# @var reth_prune_accounthistory_full:description: >
# Prunes all account history.
reth_prune_accounthistory_full: false

# @var reth_prune_accounthistory_distance:description: >
# Prune account before the `head-N` block number. In other words, keep last N + 1 blocks.
reth_prune_accounthistory_distance: <BLOCKS>

# @var reth_prune_accounthistory_before:description: >
# Prune account history before the specified block number. The specified block number is not pruned.
reth_prune_accounthistory_before: <BLOCK_NUMBER>

# @var reth_prune_storagehistory_full:description: >
# Prunes all storage history data.
reth_prune_storagehistory_full: false

# @var reth_prune_storagehistory_distance:description: >
# Prune storage history before the `head-N` block number. In other words, keep last N + 1 blocks.
reth_prune_storagehistory_distance: <BLOCKS>

# @var reth_prune_storagehistory_before:description: >
# Prune storage history before the specified block number. The specified block number is not pruned.
reth_prune_storagehistory_before: <BLOCK_NUMBER>

# @var reth_prune_receiptslogfilter:description: >
# Configure receipts log filter. Format: <address>:<prune_mode>[,<address>:<prune_mode>...].
# Where <prune_mode> can be 'full', 'distance:<blocks>', or 'before:<block_number>'.
reth_prune_receiptslogfilter: "" # e.g., "0xaddress1:full,0xaddress2:distance:1000"

# @var reth_engine_persistence_threshold:description: >
# Configure persistence threshold for engine experimental.
reth_engine_persistence_threshold: 2

# @var reth_engine_memory_block_buffer_target:description: >
# Configure the target number of blocks to keep in memory.
reth_engine_memory_block_buffer_target: 2

# @var reth_engine_legacy_state_root:description: >
# Enable legacy state root.
reth_engine_legacy_state_root: false

# @var reth_engine_disable_caching_and_prewarming:description: >
# Disable cross-block caching and parallel prewarming. Note: --engine.caching-and-prewarming has no effect.
reth_engine_disable_caching_and_prewarming: false

# @var reth_engine_state_provider_metrics:description: >
# Enable state provider latency metrics. This allows the engine to collect and report stats about how long state provider calls took during execution,
# but this does introduce slight overhead to state provider calls.
reth_engine_state_provider_metrics: false

# @var reth_engine_cross_block_cache_size:description: >
# Configure the size of cross-block cache in megabytes.
reth_engine_cross_block_cache_size: 4096

# @var reth_engine_state_root_task_compare_updates:description: >
# Enable comparing trie updates from the state root task to the trie updates from the regular state root calculation.
reth_engine_state_root_task_compare_updates: false

# @var reth_engine_accept_execution_requests_hash:description: >
# Enables accepting requests hash instead of an array of requests in `engine_newPayloadV4`.
reth_engine_accept_execution_requests_hash: false

# @var reth_engine_max_proof_task_concurrency:description: >
# Configure the maximum number of concurrent proof tasks.
reth_engine_max_proof_task_concurrency: 256

# @var reth_engine_reserved_cpu_cores:description: >
# Configure the number of reserved CPU cores for non-reth processes.
reth_engine_reserved_cpu_cores: 1

# @var reth_ress_enable:description: >
# Enable support for `ress` subprotocol.
reth_ress_enable: false

# @var reth_ress_max_active_connections:description: >
# The maximum number of active connections for `ress` subprotocol.
reth_ress_max_active_connections: 5

# @var reth_ress_max_witness_window:description: >
# The maximum witness lookback window.
reth_ress_max_witness_window: 1024

# @var reth_ress_witness_max_parallel:description: >
# The maximum number of witnesses to generate in parallel.
reth_ress_witness_max_parallel: 5

# @var reth_ress_witness_cache_size:description: >
# Witness cache size.
reth_ress_witness_cache_size: 10

# @var reth_log_stdout_format:description: >
# The format to use for logs written to stdout.
# Possible values: json, log-fmt, terminal.
reth_log_stdout_format: terminal

# @var reth_log_stdout_filter:description: >
# The filter to use for logs written to stdout.
reth_log_stdout_filter: ""

# @var reth_log_file_format:description: >
# The format to use for logs written to the log file.
# Possible values: json, log-fmt, terminal.
reth_log_file_format: terminal

# @var reth_log_file_filter:description: >
# The filter to use for logs written to the log file.
reth_log_file_filter: debug

# @var reth_log_file_directory:description: >
# The path to put log files in.
reth_log_file_directory: "<CACHE_DIR>/logs" # Reth replaces <CACHE_DIR> automatically

# @var reth_log_file_max_size:description: >
# The maximum size (in MB) of one log file.
reth_log_file_max_size: 200

# @var reth_log_file_max_files:description: >
# The maximum amount of log files that will be stored. If set to 0, background file logging is disabled.
reth_log_file_max_files: 5

# @var reth_log_journald:description: >
# Write logs to journald.
reth_log_journald: false

# @var reth_log_journald_filter:description: >
# The filter to use for logs written to journald.
reth_log_journald_filter: error

# @var reth_color:description: >
# Sets whether or not the formatter emits ANSI terminal escape codes for colors and other text formatting.
# Possible values: always, auto, never.
reth_color: always

# @var reth_verbosity:description: >
# Set the minimum log level.
# 0: Default (Info if not quiet, otherwise based on RUST_LOG or other settings)
# 1: Errors (-v)
# 2: Warnings (-vv)
# 3: Info (-vvv)
# 4: Debug (-vvvv)
# 5: Traces (-vvvvv, warning: very verbose!)
reth_verbosity: "vvvv"

# @var reth_quiet:description: >
# Silence all log output. Overrides verbosity.
reth_quiet: false

### Variables from TOML config file ###

# [stages.headers]
# @var reth_stages_headers_downloader_max_concurrent_requests:description: >
# Maximum concurrent download requests for headers.
reth_stages_headers_downloader_max_concurrent_requests: 100

# @var reth_stages_headers_downloader_min_concurrent_requests:description: >
# Minimum concurrent download requests for headers.
reth_stages_headers_downloader_min_concurrent_requests: 5

# @var reth_stages_headers_downloader_max_buffered_responses:description: >
# Maximum buffered responses for header downloads.
reth_stages_headers_downloader_max_buffered_responses: 100

# @var reth_stages_headers_downloader_request_limit:description: >
# Request limit for header downloads.
reth_stages_headers_downloader_request_limit: 1000

# @var reth_stages_headers_commit_threshold:description: >
# Commit threshold for the headers stage.
reth_stages_headers_commit_threshold: 10000

# [stages.bodies]
# @var reth_stages_bodies_downloader_request_limit:description: >
# Request limit for body downloads.
reth_stages_bodies_downloader_request_limit: 200

# @var reth_stages_bodies_downloader_stream_batch_size:description: >
# Stream batch size for body downloads.
reth_stages_bodies_downloader_stream_batch_size: 1000

# @var reth_stages_bodies_downloader_max_buffered_blocks_size_bytes:description: >
# Maximum buffered blocks size in bytes for body downloads.
reth_stages_bodies_downloader_max_buffered_blocks_size_bytes: 2147483648

# @var reth_stages_bodies_downloader_min_concurrent_requests:description: >
# Minimum concurrent download requests for bodies.
reth_stages_bodies_downloader_min_concurrent_requests: 5

# @var reth_stages_bodies_downloader_max_concurrent_requests:description: >
# Maximum concurrent download requests for bodies.
reth_stages_bodies_downloader_max_concurrent_requests: 100

# [stages.sender_recovery]
# @var reth_stages_sender_recovery_commit_threshold:description: >
# Commit threshold for the sender recovery stage.
reth_stages_sender_recovery_commit_threshold: 5000000

# [stages.execution]
# @var reth_stages_execution_max_blocks:description: >
# Maximum blocks for the execution stage.
reth_stages_execution_max_blocks: 500000

# @var reth_stages_execution_max_changes:description: >
# Maximum changes for the execution stage.
reth_stages_execution_max_changes: 5000000

# @var reth_stages_execution_max_cumulative_gas:description: >
# Maximum cumulative gas for the execution stage.
reth_stages_execution_max_cumulative_gas: 1500000000000

# @var reth_stages_execution_max_duration:description: >
# Maximum duration for the execution stage.
reth_stages_execution_max_duration: "10m"

# [stages.prune]
# @var reth_stages_prune_commit_threshold:description: >
# Commit threshold for the prune stage.
reth_stages_prune_commit_threshold: 1000000

# [stages.account_hashing]
# @var reth_stages_account_hashing_clean_threshold:description: >
# Clean threshold for the account hashing stage.
reth_stages_account_hashing_clean_threshold: 500000

# @var reth_stages_account_hashing_commit_threshold:description: >
# Commit threshold for the account hashing stage.
reth_stages_account_hashing_commit_threshold: 100000

# [stages.storage_hashing]
# @var reth_stages_storage_hashing_clean_threshold:description: >
# Clean threshold for the storage hashing stage.
reth_stages_storage_hashing_clean_threshold: 500000

# @var reth_stages_storage_hashing_commit_threshold:description: >
# Commit threshold for the storage hashing stage.
reth_stages_storage_hashing_commit_threshold: 100000

# [stages.merkle]
# @var reth_stages_merkle_clean_threshold:description: >
# Clean threshold for the Merkle stage.
reth_stages_merkle_clean_threshold: 5000

# [stages.transaction_lookup]
# @var reth_stages_transaction_lookup_chunk_size:description: >
# Chunk size for the transaction lookup stage.
reth_stages_transaction_lookup_chunk_size: 5000000

# [stages.index_account_history]
# @var reth_stages_index_account_history_commit_threshold:description: >
# Commit threshold for the index account history stage.
reth_stages_index_account_history_commit_threshold: 100000

# [stages.index_storage_history]
# @var reth_stages_index_storage_history_commit_threshold:description: >
# Commit threshold for the index storage history stage.
reth_stages_index_storage_history_commit_threshold: 100000

# [stages.etl]
# @var reth_stages_etl_file_size:description: >
# File size for the ETL stage.
reth_stages_etl_file_size: 524288000

# [peers]
# @var reth_peers_refill_slots_interval:description: >
# Interval to refill peer slots.
reth_peers_refill_slots_interval: "5s"

# @var reth_peers_trusted_nodes:description: >
# List of trusted peer enode URLs.
reth_peers_trusted_nodes: [] # e.g., ["enode://...", "enode://..."]

# @var reth_peers_trusted_nodes_only:description: >
# Connect only to trusted nodes.
reth_peers_trusted_nodes_only: false

# @var reth_peers_max_backoff_count:description: >
# Maximum backoff count for peer connections.
reth_peers_max_backoff_count: 5

# @var reth_peers_ban_duration:description: >
# Duration for banning misbehaving peers.
reth_peers_ban_duration: "12h"

# @var reth_peers_incoming_ip_throttle_duration:description: >
# Duration to throttle incoming connections from the same IP.
reth_peers_incoming_ip_throttle_duration: "30s"

# [peers.connection_info]
# @var reth_peers_connection_info_max_outbound:description: >
# Maximum outbound peer connections. (Note: CLI --max-outbound-peers overrides this if set)
reth_peers_connection_info_max_outbound: 100

# @var reth_peers_connection_info_max_inbound:description: >
# Maximum inbound peer connections. (Note: CLI --max-inbound-peers overrides this if set)
reth_peers_connection_info_max_inbound: 30

# @var reth_peers_connection_info_max_concurrent_outbound_dials:description: >
# Maximum concurrent outbound dials.
reth_peers_connection_info_max_concurrent_outbound_dials: 15

# [peers.reputation_weights]
# @var reth_peers_reputation_weights_bad_message:description: >
# Reputation weight for a bad message.
reth_peers_reputation_weights_bad_message: -16384

# @var reth_peers_reputation_weights_bad_block:description: >
# Reputation weight for a bad block.
reth_peers_reputation_weights_bad_block: -16384

# @var reth_peers_reputation_weights_bad_transactions:description: >
# Reputation weight for bad transactions.
reth_peers_reputation_weights_bad_transactions: -16384

# @var reth_peers_reputation_weights_already_seen_transactions:description: >
# Reputation weight for already seen transactions.
reth_peers_reputation_weights_already_seen_transactions: 0

# @var reth_peers_reputation_weights_timeout:description: >
# Reputation weight for a timeout.
reth_peers_reputation_weights_timeout: -4096

# @var reth_peers_reputation_weights_bad_protocol:description: >
# Reputation weight for a bad protocol.
reth_peers_reputation_weights_bad_protocol: -2147483648

# @var reth_peers_reputation_weights_failed_to_connect:description: >
# Reputation weight for a failed connection attempt.
reth_peers_reputation_weights_failed_to_connect: -25600

# @var reth_peers_reputation_weights_dropped:description: >
# Reputation weight for a dropped peer.
reth_peers_reputation_weights_dropped: -4096

# @var reth_peers_reputation_weights_bad_announcement:description: >
# Reputation weight for a bad announcement.
reth_peers_reputation_weights_bad_announcement: -1024

# [peers.backoff_durations]
# @var reth_peers_backoff_durations_low:description: >
# Low backoff duration for peer connections.
reth_peers_backoff_durations_low: "30s"

# @var reth_peers_backoff_durations_medium:description: >
# Medium backoff duration for peer connections.
reth_peers_backoff_durations_medium: "3m"

# @var reth_peers_backoff_durations_high:description: >
# High backoff duration for peer connections.
reth_peers_backoff_durations_high: "15m"

# @var reth_peers_backoff_durations_max:description: >
# Maximum backoff duration for peer connections.
reth_peers_backoff_durations_max: "1h"

# [sessions]
# @var reth_sessions_session_command_buffer:description: >
# Buffer size for session commands.
reth_sessions_session_command_buffer: 32

# @var reth_sessions_session_event_buffer:description: >
# Buffer size for session events.
reth_sessions_session_event_buffer: 260

# [sessions.limits] - This section is empty in the provided config.

# [sessions.initial_internal_request_timeout]
# @var reth_sessions_initial_internal_request_timeout_secs:description: >
# Seconds for initial internal request timeout.
reth_sessions_initial_internal_request_timeout_secs: 20

# @var reth_sessions_initial_internal_request_timeout_nanos:description: >
# Nanoseconds for initial internal request timeout.
reth_sessions_initial_internal_request_timeout_nanos: 0

# [sessions.protocol_breach_request_timeout]
# @var reth_sessions_protocol_breach_request_timeout_secs:description: >
# Seconds for protocol breach request timeout.
reth_sessions_protocol_breach_request_timeout_secs: 120

# @var reth_sessions_protocol_breach_request_timeout_nanos:description: >
# Nanoseconds for protocol breach request timeout.
reth_sessions_protocol_breach_request_timeout_nanos: 0

# [sessions.pending_session_timeout]
# @var reth_sessions_pending_session_timeout_secs:description: >
# Seconds for pending session timeout.
reth_sessions_pending_session_timeout_secs: 20

# @var reth_sessions_pending_session_timeout_nanos:description: >
# Nanoseconds for pending session timeout.
reth_sessions_pending_session_timeout_nanos: 0


# @var reth_cli_default_flags:description: >
#   A list of commonly used CLI flag strings for the Reth node.
#   Each 'name' string should ideally be a complete CLI flag.
#   If a value is templated (e.g., --option={{ var }}), 'var' should be defined.
#   The presence of an item in this list implies the flag should be considered for addition.
reth_cli_default_options:
  - "--full"
  - "--http"
  - "--http.addr={{ reth_http_addr }}"
  - "--http.port={{ reth_http_port }}"
  - "--http.api={{ reth_http_api }}"
  - "--authrpc.addr={{ reth_authrpc_addr }}"
  - "--authrpc.port={{ reth_authrpc_port }}"
  - "--metrics={{ reth_metrics_listen_addr }}:{{ reth_metrics_listen_port }}"
  - "--authrpc.jwtsecret={{ reth_authrpc_jwtsecret }}"
  - "--log.file.directory={{ reth_dir_log }}"
  - "{{ reth_verbosity }}"


# @var reth_cli_custom_flags:description: >
#   A list of additional, literal command-line flags for the reth node.
#   Each item is a complete flag string, e.g., "--full" or "--txpool.max-account-slots=32".
reth_cli_custom_options: []
# Example:
#  - "--txpool.nolocals"
#  - "--nat=extip:YOUR_EXTERNAL_IP"
#  - "--log.stdout.filter={{ reth_log_stdout_filter }}"
#  - "--log.file.filter={{ reth_log_file_filter }}"
#  -  "--color={{ reth_log_color }}"


# @var reth_restart_policy:description: Restart policy for the Reth service.
reth_systemd_restart_policy: always
# @var reth_restart_sec:description: Seconds to wait before restarting the service.
reth_systemd_restart_sec: 5
# @var reth_stop_timeout_sec:description: Timeout in seconds when stopping the service.
reth_systemd_stop_timeout_sec: 300
# @var reth_limit_nofile:description: Maximum number of open files for the Reth service.
reth_systemd_limit_nofile: 65536
# @var reth_extra_systemd_directives:description: >
# A list of extra directives to add to the [Service] section (e.g., "Environment=RUST_LOG=info").
reth_extra_systemd_directives: []
